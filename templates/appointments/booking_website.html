<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Booking - Placeholder</title>
    <style>
        body { font-family: Arial, sans-serif; background: #f3f4f6; color: #111827; }
        .container { max-width: 900px; margin: 48px auto; background: #ffffff; padding: 32px; border-radius: 12px; box-shadow: 0 4px 18px rgba(0,0,0,0.06); }
        h1 { margin: 0 0 12px 0; font-size: 22px; }
        p { margin: 8px 0; color: #374151 }
        .muted { color: #6b7280; font-size: 14px }
    </style>
</head>
<body>
    <div class="container">
        <h1>Booking page temporarily disabled</h1>
        <p class="muted">The website-style booking page has been cleared to aid debugging. You can restore the template or request a redesigned layout.</p>
        <p>If you need the original file restored, tell me and I will revert to the previous version.</p>
        <hr style="margin:16px 0" />
        <p class="muted">Provider: {% if provider %}{{ provider.business_name }}{% else %}—{% endif %}</p>
    </div>
</body>
</html>
                                <h3 class="font-semibold mb-3">Your Information</h3>
                                <div class="space-y-4">
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-1">Full Name</label>
                                        <input type="text" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500">
                                    </div>
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-1">Email</label>
                                        <input type="email" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500">
                                    </div>
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-1">Phone Number</label>
                                        <input type="tel" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500">
                                    </div>
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-1">Notes (Optional)</label>
                                        <textarea rows="3" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"></textarea>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="mt-6 flex justify-between">
                            <button onclick="prevStep(1)" class="text-gray-600 hover:text-gray-800 font-medium">
                                <i class="fas fa-arrow-left mr-2"></i> Back
                            </button>
                            <button onclick="nextStep(2)" class="bg-primary-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-primary-700 transition-colors">
                                Next: Confirm Booking
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Step 3: Confirm Booking -->
            <div id="step-3" class="booking-step hidden">
                <div class="max-w-3xl mx-auto">
                    <div class="text-center mb-8">
                        <div class="w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4">
                            <i class="fas fa-check text-green-600 text-2xl"></i>
                        </div>
                        <h2 class="text-2xl font-bold mb-2">Confirm Your Appointment</h2>
                        <p class="text-gray-600">Please review your appointment details before confirming</p>
                    </div>
                    
                    <div class="bg-gray-50 rounded-xl p-6 mb-8">
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <div>
                                <h3 class="text-lg font-semibold mb-3">Appointment Details</h3>
                                <div class="space-y-3">
                                    <div class="flex">
                                        <div class="w-1/3 text-gray-500">Service:</div>
                                        <div class="w-2/3 font-medium" id="confirm-service">Haircut</div>
                                    </div>
                                    <div class="flex">
                                        <div class="w-1/3 text-gray-500">Date:</div>
                                        <div class="w-2/3 font-medium" id="confirm-date">Friday, November 24, 2023</div>
                                    </div>
                                    <div class="flex">
                                        <div class="w-1/3 text-gray-500">Time:</div>
                                        <div class="w-2/3 font-medium" id="confirm-time">10:00 AM - 10:30 AM</div>
                                    </div>
                                    <div class="flex">
                                        <div class="w-1/3 text-gray-500">Duration:</div>
                                        <div class="w-2/3 font-medium" id="confirm-duration">30 minutes</div>
                                    </div>
                                    <div class="flex">
                                        <div class="w-1/3 text-gray-500">Price:</div>
                                        <div class="w-2/3 font-medium" id="confirm-price">₹35.00</div>
                                    </div>
                                </div>
                            </div>
                            
                            <div>
                                <h3 class="text-lg font-semibold mb-3">Your Information</h3>
                                <div class="space-y-3">
                                    <div class="flex">
                                        <div class="w-1/3 text-gray-500">Name:</div>
                                        <div class="w-2/3 font-medium" id="confirm-name">John Doe</div>
                                    </div>
                                    <div class="flex">
                                        <div class="w-1/3 text-gray-500">Email:</div>
                                        <div class="w-2/3 font-medium" id="confirm-email">john@example.com</div>
                                    </div>
                                    <div class="flex">
                                        <div class="w-1/3 text-gray-500">Phone:</div>
                                        <div class="w-2/3 font-medium" id="confirm-phone">(555) 123-4567</div>
                                    </div>
                                    <div class="flex">
                                        <div class="w-1/3 text-gray-500">Notes:</div>
                                        <div class="w-2/3 font-medium text-gray-600" id="confirm-notes">-</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="mt-6 pt-6 border-t border-gray-200">
                            <div class="flex items-center">
                                <input type="checkbox" id="terms" class="h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded">
                                <label for="terms" class="ml-2 block text-sm text-gray-700">
                                    I agree to the <a href="#" class="text-primary-600 hover:text-primary-800">Terms of Service</a> and 
                                    <a href="#" class="text-primary-600 hover:text-primary-800">Privacy Policy</a>
                                </label>
                            </div>
                            <div class="mt-4">
                                <div class="flex items-center text-sm text-gray-500">
                                    <i class="fas fa-info-circle mr-2"></i>
                                    <span>You'll receive a confirmation email with your appointment details.</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="flex flex-col sm:flex-row justify-between items-center gap-4">
                        <button onclick="prevStep(2)" class="w-full sm:w-auto px-6 py-3 border border-gray-300 rounded-lg font-medium text-gray-700 hover:bg-gray-50">
                            <i class="fas fa-arrow-left mr-2"></i> Back
                        </button>
                        <button onclick="confirmBooking()" class="w-full sm:w-auto bg-green-600 hover:bg-green-700 text-white px-8 py-3 rounded-lg font-medium transition-colors">
                            Confirm Booking
                            <i class="fas fa-check ml-2"></i>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="bg-gray-900 text-white py-12 mt-16">
        <div class="max-w-7xl mx-auto px-4">
            <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
                <div>
                    <h3 class="text-lg font-semibold mb-4">Bookify</h3>
                    <p class="text-gray-400">Professional booking solutions for businesses of all sizes.</p>
                </div>
                <div>
                    <h4 class="font-medium mb-4">Quick Links</h4>
                    <ul class="space-y-2">
                        <li><a href="#" class="text-gray-400 hover:text-white">Home</a></li>
                        <li><a href="#services" class="text-gray-400 hover:text-white">Services</a></li>
                        <li><a href="#about" class="text-gray-400 hover:text-white">About Us</a></li>
                        <li><a href="#contact" class="text-gray-400 hover:text-white">Contact</a></li>
                    </ul>
                </div>
                <div>
                    <h4 class="font-medium mb-4">Contact Us</h4>
                    <ul class="space-y-2 text-gray-400">
                        <li class="flex items-start">
                            <i class="fas fa-map-marker-alt mt-1 mr-2"></i>
                            <span>123 Business St, City, Country</span>
                        </li>
                        <li class="flex items-center">
                            <i class="fas fa-phone-alt mr-2"></i>
                            <span>+1 (555) 123-4567</span>
                        </li>
                        <li class="flex items-center">
                            <i class="fas fa-envelope mr-2"></i>
                            <span>info@bookify.com</span>
                        </li>
                    </ul>
                </div>
                <div>
                    <h4 class="font-medium mb-4">Follow Us</h4>
                    <div class="flex space-x-4">
                        <a href="#" class="text-gray-400 hover:text-white"><i class="fab fa-facebook-f"></i></a>
                        <a href="#" class="text-gray-400 hover:text-white"><i class="fab fa-twitter"></i></a>
                        <a href="#" class="text-gray-400 hover:text-white"><i class="fab fa-instagram"></i></a>
                        <a href="#" class="text-gray-400 hover:text-white"><i class="fab fa-linkedin-in"></i></a>
                    </div>
                </div>
            </div>
            <div class="border-t border-gray-800 mt-8 pt-8 text-center text-gray-400 text-sm">
                <p>&copy; 2023 Bookify. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <!-- Success Modal -->
    <div id="success-modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
        <div class="bg-white rounded-2xl p-8 max-w-md w-full mx-4">
            <div class="text-center">
                <div class="w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4">
                    <i class="fas fa-check text-green-600 text-2xl"></i>
                </div>
                <h3 class="text-xl font-bold mb-2">Booking Confirmed!</h3>
                <p class="text-gray-600 mb-6">Your appointment has been successfully scheduled.</p>
                <div class="bg-gray-50 p-4 rounded-lg mb-6 text-left">
                    <p class="font-medium" id="success-date">Friday, November 24, 2023 at 10:00 AM</p>
                    <p class="text-sm text-gray-600 mt-1">You'll receive a confirmation email shortly.</p>
                </div>
                <div class="flex flex-col space-y-3">
                    <a href="#" class="bg-primary-600 hover:bg-primary-700 text-white px-6 py-3 rounded-lg font-medium transition-colors">
                        View My Appointments
                    </a>
                    <button onclick="closeSuccessModal()" class="text-gray-600 hover:text-gray-800 font-medium">
                        Close
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script>
        // Current step tracking
        let currentStep = 1;
        let selectedService = null;
        let selectedDate = null;
        let selectedTime = null;
        
        // Sample services data (in a real app, this would come from your backend)
        const services = [
            { id: 1, name: 'Haircut', duration: '30', price: '35.00', description: 'Professional haircut and styling' },
            { id: 2, name: 'Hair Color', duration: '90', price: '85.00', description: 'Full hair coloring service' },
            { id: 3, name: 'Beard Trim', duration: '15', price: '15.00', description: 'Precision beard trimming' },
            { id: 4, name: 'Hair Treatment', duration: '60', price: '65.00', description: 'Deep conditioning treatment' },
            { id: 5, name: 'Kids Cut', duration: '30', price: '25.00', description: 'Haircut for children under 12' },
            { id: 6, name: 'Senior Cut', duration: '30', price: '30.00', description: 'Haircut for seniors (65+)' }
        ];

        // Initialize the date picker
        document.addEventListener('DOMContentLoaded', function() {
            initializeDatePicker();
            
            // Populate services from Django template if available
            const djangoServices = JSON.parse('{{ services_json|escapejs }}' || '[]');
            if (djangoServices.length > 0) {
                // Use Django-provided services
                services.length = 0; // Clear the sample data
                djangoServices.forEach(service => {
                    services.push({
                        id: service.id,
                        name: service.service_name,
                        duration: service.duration,
                        price: service.price,
                        description: service.description || ''
                    });
                });
            }
            
            // Set up service selection
            document.querySelectorAll('.service-card').forEach((card, index) => {
                card.addEventListener('click', () => selectService(index));
            });
            
            // Set up time slot selection
            document.querySelectorAll('.time-slot:not(.booked)').forEach(slot => {
                slot.addEventListener('click', () => {
                    document.querySelectorAll('.time-slot').forEach(s => s.classList.remove('selected'));
                    slot.classList.add('selected');
                    selectedTime = slot.textContent.trim();
                    updateBookingSummary();
                });
            });
            
            // Navigation buttons
            document.getElementById('prev-week').addEventListener('click', () => {
                // Previous week logic
                console.log('Previous week');
            });
            
            document.getElementById('next-week').addEventListener('click', () => {
                // Next week logic
                console.log('Next week');
            });
        });
        
        function initializeDatePicker() {
            const dateList = document.getElementById('date-list');
            const today = new Date();
            const days = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];
            const months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];
            
            // Clear any existing dates
            dateList.innerHTML = '';
            
            // Add next 7 days
            for (let i = 0; i < 7; i++) {
                const date = new Date(today);
                date.setDate(today.getDate() + i);
                
                const day = date.getDate();
                const dayName = days[date.getDay()];
                const month = months[date.getMonth()];
                const dateString = `${day} ${month}`;
                const fullDate = date.toISOString().split('T')[0];
                
                const dateElement = document.createElement('div');
                dateElement.className = `date-option p-3 rounded-lg text-center cursor-pointer ${i === 0 ? 'bg-primary-100 text-primary-700 font-medium' : 'hover:bg-gray-100'}`;
                dateElement.innerHTML = `
                    <div class="text-sm">${dayName}</div>
                    <div class="font-semibold">${dateString}</div>
                `;
                dateElement.dataset.date = fullDate;
                
                if (i === 0) {
                    selectedDate = fullDate;
                    dateElement.classList.add('selected');
                }
                
                dateElement.addEventListener('click', function() {
                    document.querySelectorAll('.date-option').forEach(el => {
                        el.classList.remove('bg-primary-100', 'text-primary-700', 'font-medium');
                        el.classList.add('hover:bg-gray-100');
                    });
                    this.classList.add('bg-primary-100', 'text-primary-700', 'font-medium');
                    this.classList.remove('hover:bg-gray-100');
                    selectedDate = this.dataset.date;
                    // Here you would typically fetch available time slots for the selected date
                    console.log('Selected date:', selectedDate);
                });
                
                dateList.appendChild(dateElement);
            }
        }
        
        function selectService(index) {
            // Remove selected class from all service cards
            document.querySelectorAll('.service-card').forEach(card => {
                card.classList.remove('selected');
            });
            
            // Add selected class to clicked card
            const selectedCard = document.querySelectorAll('.service-card')[index];
            selectedCard.classList.add('selected');
            
            // Store selected service
            selectedService = services[index];
            
            // Update service info in the time selection step
            if (selectedService) {
                document.getElementById('service-name').textContent = selectedService.name;
                document.getElementById('service-duration').textContent = `${selectedService.duration} min`;
            }
            
            // Update booking summary
            updateBookingSummary();
        }
        
        function nextStep(step) {
            // Validate current step before proceeding
            if (step === 1 && !selectedService) {
                alert('Please select a service to continue');
                return;
            } else if (step === 2 && !selectedTime) {
                alert('Please select a time slot to continue');
                return;
            } else if (step === 3) {
                // Validate form inputs before final submission
                const nameInput = document.querySelector('input[type="text"]');
                const emailInput = document.querySelector('input[type="email"]');
                const phoneInput = document.querySelector('input[type="tel"]');
                const termsCheckbox = document.getElementById('terms');
                
                if (!nameInput.value || !emailInput.value || !phoneInput.value) {
                    alert('Please fill in all required fields');
                    return;
                }
                
                if (!termsCheckbox.checked) {
                    alert('Please accept the terms and conditions to continue');
                    return;
                }
                
                // Update confirmation details
                document.getElementById('confirm-name').textContent = nameInput.value;
                document.getElementById('confirm-email').textContent = emailInput.value;
                document.getElementById('confirm-phone').textContent = phoneInput.value;
                
                const notesInput = document.querySelector('textarea');
                document.getElementById('confirm-notes').textContent = notesInput.value || '-';
            }
            
            // Hide current step
            document.getElementById(`step-${currentStep}`).classList.add('hidden');
            
            // Update current step
            currentStep = step + 1;
            
            // Show next step
            document.getElementById(`step-${currentStep}`).classList.remove('hidden');
            
            // Update step indicator
            updateStepIndicator(currentStep);
            
            // Scroll to top of the form
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }
        
        function prevStep(step) {
            // Hide current step
            document.getElementById(`step-${currentStep}`).classList.add('hidden');
            
            // Update current step
            currentStep = step - 1;
            
            // Show previous step
            document.getElementById(`step-${currentStep}`).classList.remove('hidden');
            
            // Update step indicator
            updateStepIndicator(currentStep);
            
            // Scroll to top of the form
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }
        
        function updateStepIndicator(step) {
            // Reset all steps
            document.querySelectorAll('.step').forEach((el, index) => {
                el.classList.remove('active', 'completed');
                if (index + 1 < step) {
                    el.classList.add('completed');
                } else if (index + 1 === step) {
                    el.classList.add('active');
                }
            });
            
            // Update progress bar
            const progress = ((step - 1) / 3) * 100;
            document.querySelector('.step-line-progress').style.width = `${progress}%`;
        }
        
        function updateBookingSummary() {
            if (selectedService) {
                document.getElementById('confirm-service').textContent = selectedService.name;
                document.getElementById('confirm-duration').textContent = `${selectedService.duration} minutes`;
                document.getElementById('confirm-price').textContent = `₹${parseFloat(selectedService.price).toFixed(2)}`;
            }
            
            if (selectedDate) {
                const date = new Date(selectedDate);
                const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
                document.getElementById('confirm-date').textContent = date.toLocaleDateString('en-US', options);
                
                // Format for success modal
                const timeOptions = { hour: 'numeric', minute: '2-digit', hour12: true };
                const timeString = selectedTime ? ` at ${selectedTime}` : '';
                document.getElementById('success-date').textContent = 
                    `${date.toLocaleDateString('en-US', { weekday: 'long', month: 'long', day: 'numeric' })}${timeString}`;
            }
            
            if (selectedTime) {
                document.getElementById('confirm-time').textContent = selectedTime;
                
                // Calculate end time if we have duration
                if (selectedService) {
                    const [hours, period] = selectedTime.split(' ');
                    let [h, m] = hours.split(':').map(Number);
                    
                    // Convert to 24-hour format for easier calculation
                    if (period === 'PM' && h < 12) h += 12;
                    if (period === 'AM' && h === 12) h = 0;
                    
                    // Add duration
                    const duration = parseInt(selectedService.duration) || 0;
                    const endTime = new Date();
                    endTime.setHours(h, m + duration, 0, 0);
                    
                    // Format end time
                    let endHours = endTime.getHours();
                    const endPeriod = endHours >= 12 ? 'PM' : 'AM';
                    endHours = endHours % 12 || 12;
                    const endMinutes = endTime.getMinutes().toString().padStart(2, '0');
                    const endTimeString = `${endHours}:${endMinutes} ${endPeriod}`;
                    
                    document.getElementById('confirm-time').textContent = 
                        `${selectedTime} - ${endTimeString}`;
                }
            }
        }
        
        function confirmBooking() {
            // In a real app, you would submit the form data to your backend here
            console.log('Booking confirmed:', {
                service: selectedService,
                date: selectedDate,
                time: selectedTime,
                name: document.querySelector('input[type="text"]').value,
                email: document.querySelector('input[type="email"]').value,
                phone: document.querySelector('input[type="tel"]').value,
                notes: document.querySelector('textarea').value
            });
            
            // Show success modal
            document.getElementById('success-modal').classList.remove('hidden');
            
            // In a real app, you would redirect or show a success message
            // window.location.href = '/booking/success';
        }
        
        function closeSuccessModal() {
            document.getElementById('success-modal').classList.add('hidden');
        }
        
        // Close modal when clicking outside
        window.onclick = function(event) {
            const modal = document.getElementById('success-modal');
            if (event.target === modal) {
                closeSuccessModal();
            }
        };
    </script>
</body>
</html>
